<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–≤–æ—î—ó —Å–ª—É–∂–±–∏</title>
    <style>
        :root {
            --pixel-blue: #0A3C59; /* –¢–µ–º–Ω–æ-—Å–∏–Ω—ñ–π –ø—ñ–∫—Å–µ–ª—å */
            --pixel-light: #527A8A; /* –°–≤—ñ—Ç–ª–æ-—Å–∏–Ω—ñ–π –ø—ñ–∫—Å–µ–ª—å */
            --pixel-accent: #FFD700; /* –ó–æ–ª–æ—Ç–∏–π –∞–∫—Ü–µ–Ω—Ç */
            --background-color: #f0f0f0;
            --text-color: #111;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            background-image: repeating-linear-gradient(45deg, 
                var(--pixel-blue) 0, var(--pixel-blue) 5px, 
                var(--pixel-light) 5px, var(--pixel-light) 10px);
            background-size: 40px 40px;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 900px;
            min-height: 700px;
        }

        h1, h2, h3 {
            color: var(--pixel-blue);
            border-bottom: 3px solid var(--pixel-light);
            padding-bottom: 5px;
            margin-top: 25px;
        }
        
        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —Ñ–æ—Ä–º–∏ */
        .form-group {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        select, button, input[type="date"] {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 4px;
            border: 1px solid #aaa;
            box-sizing: border-box;
            background-color: #fff;
            font-size: 16px;
        }

        button {
            background-color: var(--pixel-blue);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }

        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            padding: 10px 0;
        }

        .checkbox-grid label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: normal;
        }
        
        .checkbox-grid input[type="checkbox"] {
            margin-right: 8px;
            width: auto;
        }

        /* –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —Å–µ–∫—Ü—ñ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (Battlefield 2 style) */
        #results {
            margin-top: 30px;
            padding: 20px;
            background-color: #eee;
            border: 5px solid var(--pixel-blue);
            border-radius: 8px;
            display: none;
        }
        
        .stat-block {
            background-color: var(--pixel-blue);
            color: white;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        /* –°—Ç–∏–ª—å –¥–ª—è –≤–µ–ª–∏–∫–æ–≥–æ –≤—ñ–¥–ª—ñ–∫—É —á–∞—Å—É */
        .stat-block.countdown {
            background-color: #A52A2A; /* –ß–µ—Ä–≤–æ–Ω–∏–π/–ë–æ—Ä–¥–æ–≤–∏–π –¥–ª—è —É–≤–∞–≥–∏ */
            flex-direction: column;
            text-align: center;
        }
        .stat-block.countdown strong {
            font-size: 2.5em;
            color: #fff;
            margin-top: 5px;
        }


        .stat-block strong {
            color: var(--pixel-accent);
            font-size: 1.2em;
        }

        .rank-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .rank-info img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border: 2px solid var(--pixel-accent);
            border-radius: 50%;
            padding: 5px;
            background-color: #fff;
        }

        .kkd-bar-container {
            width: 100%;
            background-color: #ccc;
            border-radius: 5px;
            margin-top: 10px;
        }

        .kkd-bar {
            height: 25px;
            background-color: var(--pixel-accent);
            border-radius: 5px;
            text-align: center;
            line-height: 25px;
            color: var(--pixel-blue);
            font-weight: bold;
            transition: width 1s ease-in-out;
        }
        
        .recommendation {
            background-color: #fff;
            border: 2px solid var(--pixel-accent);
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .next-rank-display {
            font-size: 1.1em;
            font-weight: bold;
            color: #008000;
        }
        
        .placeholder-image {
            width: 80px;
            height: 80px;
            background-color: #ccc;
            border: 2px solid var(--pixel-accent);
            border-radius: 50%;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            text-align: center;
            line-height: 1.2;
            color: #555;
        }
        /* –°—Ç–∏–ª—å –¥–ª—è –ø—Ä–∏–º—ñ—Ç–æ–∫ —â–æ–¥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É */
        .contract-note {
            color: var(--pixel-accent);
            font-style: italic;
            font-size: 0.9em;
            margin-top: 5px;
        }

    </style>
</head>
<body>

<div class="container">
    <h1>‚öîÔ∏è –û—Å–æ–±–∏—Å—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –í–ú–° –ó–°–£</h1>

    <div id="form-section">
        <form id="analysisForm">

            <div class="form-group">
                <label for="serviceTime">1. –°–∫—ñ–ª—å–∫–∏ —Å–ª—É–∂–∏—à? (–î–ª—è –ø—ñ–¥–±–æ—Ä—É –∞—á—ñ–≤–∫–∏)</label>
                <select id="serviceTime" required></select>
            </div>

            <div class="form-group">
                <label for="rank">2. –¢–≤–æ—î –∑–≤–∞–Ω–Ω—è</label>
                <select id="rank" required></select>
            </div>
            
            <div class="form-group">
                <label for="position">3. –¢–≤–æ—è –ø–æ—Å–∞–¥–∞ –Ω–∞ –∫–∞—Ç–µ—Ä—ñ?</label>
                <select id="position" required></select>
            </div>

            <div class="form-group">
                <label>4. –Ø–∫—ñ —Ç–≤–æ—ó –Ω–∞–≤–∏—á–∫–∏?</label>
                <div id="skillsContainer" class="checkbox-grid">
                    </div>
                <small>–ö–æ–∂–Ω–∞ –æ–±—Ä–∞–Ω–∞ –Ω–∞–≤–∏—á–∫–∞ –ø—ñ–¥–≤–∏—â—É—î –ö–ö–î –Ω–∞ 16% (–ë–∞–∑–æ–≤–∏–π 10%)</small>
            </div>

            <div class="form-group">
                <label for="education">5. –Ø–∫–∞ –æ—Å–≤—ñ—Ç–∞?</label>
                <select id="education" required></select>
                <small>–û—Å–≤—ñ—Ç–∞ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª –∑–≤–∞–Ω–Ω—è —Ç–∞ –ö–ö–î.</small>
            </div>
            
            <div class="form-group">
                <label for="contractDate">6. –î–∞—Ç–∞ –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (–¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –¥–µ–º–æ–±—ñ–ª—ñ–∑–∞—Ü—ñ—ó)</label>
                <input type="date" id="contractDate" required>
                <small>–û–±–µ—Ä—ñ—Ç—å –¥–∞—Ç—É, –∫–æ–ª–∏ –±—É–ª–æ –ø—ñ–¥–ø–∏—Å–∞–Ω–æ –í–∞—à –æ—Å—Ç–∞–Ω–Ω—ñ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—á–∏ –º–æ–±—ñ–ª—ñ–∑–æ–≤–∞–Ω–æ).</small>
            </div>

            <button type="submit">–ê–ù–ê–õ–Ü–ó–£–í–ê–¢–ò –ü–û–î–í–ò–ì–ò</button>
        </form>
    </div>

    <div id="results">
        <h2>üìä –ü—Ä–æ—Ñ—ñ–ª—å —Ç–∞ —Ç–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        
        <h3>‚öì –ó–∞–ª–∏—à–∏–ª–æ—Å—å –¥–æ –∫—ñ–Ω—Ü—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</h3>
        <div class="stat-block countdown">
            <span id="contractStatusLabel">–°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:</span>
            <strong id="contractCountdown">--</strong>
            <span class="contract-note" id="contractNote"></span>
        </div>

        <h3>üìà –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –∫–æ—Ä–∏—Å–Ω–æ—ó –¥—ñ—ó (–ö–ö–î)</h3>
        <div class="stat-block">
            <span>–ü–æ—Ç–æ—á–Ω–∏–π –ö–ö–î:</span> 
            <strong id="kkdValue">0%</strong>
        </div>
        <div class="kkd-bar-container">
            <div id="kkdBar" class="kkd-bar"></div>
        </div>

        <h3>üéñÔ∏è –ó–≤–∞–Ω–Ω—è —Ç–∞ –∫–∞—Ä'—î—Ä–Ω–∏–π –®–ª—è—Ö</h3>
        <div class="stat-block rank-info">
            <div>
                <p>–¢–≤–æ—î –∑–≤–∞–Ω–Ω—è:</p>
                <strong id="currentRankDisplay"></strong>
            </div>
            <div id="currentRankImage" class="placeholder-image">–§–æ—Ç–æ –∑–≤–∞–Ω–Ω—è</div>
            <div style="text-align: right;">
                <p>–ù–∞—Å—Ç—É–ø–Ω–µ –∑–≤–∞–Ω–Ω—è, –ø–æ—Ç–µ–Ω—Ü—ñ–∞–ª:</p>
                <div class="next-rank-display" id="nextRankDisplay"></div>
            </div>
        </div>
        
        <h3>üèÜ –¢–≤—ñ–π –ø–æ–¥–≤–∏–≥ ("–ê—á—ñ–≤–∫–∞")</h3>
        <div class="stat-block">
            <div style="flex-direction: column; align-items: flex-start;">
                <strong id="achievementTitle"></strong>
                <small id="achievementDescription" style="color: #ccc; margin-top: 5px;"></small>
            </div>
        </div>
        
        <h3>üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó: </h3>
        <div class="recommendation" id="recommendations">
            <p><strong>–ü–æ–¥–∞–ª—å—à—ñ –¥—ñ—ó:</strong></p>
            <ul>
                </ul>
        </div>
    </div>
</div>

<script>
    // –Ü–º—ñ—Ç–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è db.json (–í—Å—Ç–∞–≤–ª–µ–Ω–æ —è–∫ –æ–±'—î–∫—Ç –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è)
    const db = {
        "ranks": [
            {"id": 1, "title": "–ú–∞—Ç—Ä–æ—Å", "category": "–†—è–¥–æ–≤–∏–π", "next_rank_id": 2, "img": "matros.png"},
            {"id": 2, "title": "–°—Ç–∞—Ä—à–∏–π –º–∞—Ç—Ä–æ—Å", "category": "–†—è–¥–æ–≤–∏–π", "next_rank_id": 3, "img": "st_matros.png"},
            {"id": 3, "title": "–°—Ç–∞—Ä—à–∏–Ω–∞ 2 —Å—Ç–∞—Ç—Ç—ñ", "category": "–°–µ—Ä–∂–∞–Ω—Ç", "next_rank_id": 4, "img": "st_2.png"},
            {"id": 4, "title": "–°—Ç–∞—Ä—à–∏–Ω–∞ 1 —Å—Ç–∞—Ç—Ç—ñ", "category": "–°–µ—Ä–∂–∞–Ω—Ç", "next_rank_id": 5, "img": "st_1.png"},
            {"id": 5, "title": "–ì–æ–ª–æ–≤–Ω–∏–π —Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°–µ—Ä–∂–∞–Ω—Ç", "next_rank_id": 6, "img": "gl_st.png"},
            {"id": 6, "title": "–ì–æ–ª–æ–≤–Ω–∏–π –∫–æ—Ä–∞–±–µ–ª—å–Ω–∏–π —Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°—Ç–∞—Ä—à–∏–Ω–∞", "next_rank_id": 7, "img": "gl_kor_st.png"},
            {"id": 7, "title": "–®—Ç–∞–±-—Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°—Ç–∞—Ä—à–∏–Ω–∞", "next_rank_id": 8, "img": "shtab_st.png"},
            {"id": 8, "title": "–ú–∞–π—Å—Ç–µ—Ä-—Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°—Ç–∞—Ä—à–∏–Ω–∞", "next_rank_id": 9, "img": "mayster_st.png"},
            {"id": 9, "title": "–°—Ç–∞—Ä—à–∏–π –º–∞–π—Å—Ç–µ—Ä-—Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°—Ç–∞—Ä—à–∏–Ω–∞", "next_rank_id": 10, "img": "st_mayster_st.png"},
            {"id": 10, "title": "–ì–æ–ª–æ–≤–Ω–∏–π –º–∞–π—Å—Ç–µ—Ä-—Å—Ç–∞—Ä—à–∏–Ω–∞", "category": "–°—Ç–∞—Ä—à–∏–Ω–∞", "next_rank_id": null, "img": "gl_mayster_st.png"},
            {"id": 11, "title": "–ú–æ–ª–æ–¥—à–∏–π –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç", "category": "–ú–æ–ª–æ–¥—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 12, "img": "ml_leyt.png"},
            {"id": 12, "title": "–õ–µ–π—Ç–µ–Ω–∞–Ω—Ç", "category": "–ú–æ–ª–æ–¥—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 13, "img": "leyt.png"},
            {"id": 13, "title": "–°—Ç–∞—Ä—à–∏–π –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç", "category": "–ú–æ–ª–æ–¥—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 14, "img": "st_leyt.png"},
            {"id": 14, "title": "–ö–∞–ø—ñ—Ç–∞–Ω-–ª–µ–π—Ç–µ–Ω–∞–Ω—Ç", "category": "–ú–æ–ª–æ–¥—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 15, "img": "kap_leyt.png"},
            {"id": 15, "title": "–ö–∞–ø—ñ—Ç–∞–Ω 3 —Ä–∞–Ω–≥—É", "category": "–°—Ç–∞—Ä—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 16, "img": "kap_3.png"},
            {"id": 16, "title": "–ö–∞–ø—ñ—Ç–∞–Ω 2 —Ä–∞–Ω–≥—É", "category": "–°—Ç–∞—Ä—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 17, "img": "kap_2.png"},
            {"id": 17, "title": "–ö–∞–ø—ñ—Ç–∞–Ω 1 —Ä–∞–Ω–≥—É", "category": "–°—Ç–∞—Ä—à–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 18, "img": "kap_1.png"},
            {"id": 18, "title": "–ö–æ–º–º–æ–¥–æ—Ä", "category": "–í–∏—â–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 19, "img": "commodor.png"},
            {"id": 19, "title": "–ö–æ–Ω—Ç—Ä-–∞–¥–º—ñ—Ä–∞–ª", "category": "–í–∏—â–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 20, "img": "kontr_adm.png"},
            {"id": 20, "title": "–í—ñ—Ü–µ-–∞–¥–º—ñ—Ä–∞–ª", "category": "–í–∏—â–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": 21, "img": "vitse_adm.png"},
            {"id": 21, "title": "–ê–¥–º—ñ—Ä–∞–ª", "category": "–í–∏—â–∏–π –æ—Ñ—ñ—Ü–µ—Ä", "next_rank_id": null, "img": "admiral.png"}
        ],
        "service_time": [
            {"value": "1-11 –º—ñ—Å—è—Ü—ñ–≤", "display": "1-11 –º—ñ—Å—è—Ü—ñ–≤"},
            {"value": "1 —Ä—ñ–∫", "display": "1 —Ä—ñ–∫"},
            {"value": "2 —Ä–æ–∫–∏", "display": "2 —Ä–æ–∫–∏"},
            {"value": "3 —Ä–æ–∫–∏", "display": "3 —Ä–æ–∫–∏"},
            {"value": "4 —Ä–æ–∫–∏", "display": "4 —Ä–æ–∫–∏"},
            {"value": "5 —Ä–æ–∫—ñ–≤", "display": "5 —Ä–æ–∫—ñ–≤"},
            {"value": "6 —Ä–æ–∫—ñ–≤", "display": "6 —Ä–æ–∫—ñ–≤"},
            {"value": "7 —Ä–æ–∫—ñ–≤", "display": "7 —Ä–æ–∫—ñ–≤"},
            {"value": "8 —Ä–æ–∫—ñ–≤", "display": "8 —Ä–æ–∫—ñ–≤"},
            {"value": "9 —Ä–æ–∫—ñ–≤", "display": "9 —Ä–æ–∫—ñ–≤"},
            {"value": "10 —Ä–æ–∫—ñ–≤", "display": "10 —Ä–æ–∫—ñ–≤"},
            {"value": "11 —Ä–æ–∫—ñ–≤", "display": "11 —Ä–æ–∫—ñ–≤"},
            {"value": "12 —Ä–æ–∫—ñ–≤", "display": "12 —Ä–æ–∫—ñ–≤"},
            {"value": "–í –∞—Ä–º—ñ—ó –Ω–∞—Ä–æ–¥–∏–≤—Å—è", "display": "–í –∞—Ä–º—ñ—ó –Ω–∞—Ä–æ–¥–∏–≤—Å—è"}
        ],
        "positions": [
            "–°—Ç–∞—Ä—à–∏–Ω–∞ –ö–ë–£", "–ö–æ–º–∞–Ω–¥–∏—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è —Ä—É–ª—å–æ–≤–∏—Ö —Å–∏–≥–Ω–∞–ª—å–Ω–∏–∫—ñ–≤", "–°—Ç–∞—Ä—à–∏–π —Ä—É–ª—å–æ–≤–∏–π —Å–∏–≥–Ω–∞–ª—å–Ω–∏–∫", "–†—É–ª—å–æ–≤–∏–π —Å–∏–≥–Ω–∞–ª—å–Ω–∏–∫", "–ö–æ–º–∞–Ω–¥–∏—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ç–æ—Ä—ñ–≤", "–°—Ç–∞—Ä—à–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä", "–û–ø–µ—Ä–∞—Ç–æ—Ä –ö–ë–£", "–ö–æ–º–∞–Ω–¥–∏—Ä –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –∫–æ–º–µ–Ω–¥–æ—Ä—ñ–≤", "–ö–æ–º–µ–Ω–¥–æ—Ä", "–ö–ë–£", "–ë–æ—Ü–º–∞–Ω", "–ë–∞—Ç–∞–ª–µ—Ä", "–ú–∞—Ä—Å–æ–≤–∏–π", "–ï–ª–µ–∫—Ç—Ä–∏–∫", "–°—Ç–∞—Ä—à–∏–π –µ–ª–µ–∫—Ç—Ä–∏–∫", "–°—Ç–∞—Ä—à–∏–π –º–æ—Ç–æ—Ä–∏—Å—Ç", "–ú–æ—Ç–æ—Ä–∏—Å—Ç", "–ö–æ–º–∞–Ω–¥–∏—Ä –∫–∞—Ç–µ—Ä–∞", "–ü–æ–º—ñ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏—Ä–∞", "–°—Ç–∞—Ä—à–∏–Ω–∞ –ï–ú–ö"
        ],
        "achievements": [
            {"time": "1-11 –º—ñ—Å—è—Ü—ñ–≤", "title": "–ù–æ–≤–æ–±—Ä–∞–Ω–µ—Ü—å –ú–æ—Ä—è", "description": "–í–∏—Ç—Ä–∏–º–∞–≤(–ª–∞) –ø–µ—Ä—à—ñ —à—Ç–æ—Ä–º–∏ —Ç–∞ –∑–∞—Å–≤–æ—ó–≤(–ª–∞) –æ—Å–Ω–æ–≤–∏ –º–æ—Ä—Å—å–∫–æ—ó —Å–ø—Ä–∞–≤–∏. –ü–æ–ø–µ—Ä–µ–¥—É —Ü—ñ–ª–∏–π –æ–∫–µ–∞–Ω!"},
            {"time": "1 —Ä—ñ–∫", "title": "–û—Ñ—ñ—Ü–µ—Ä—Å—å–∫–µ –ë—Ä–∞—Ç—Å—Ç–≤–æ", "description": "–ó–∞–∫–ª–∞–≤(–ª–∞) —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó –∫–∞—Ä'—î—Ä–∏. –í–ø–µ–≤–Ω–µ–Ω–æ —Ç—Ä–∏–º–∞—î—à —Å—Ç—Ä—ñ–π!"},
            {"time": "2 —Ä–æ–∫–∏", "title": "–°—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—è –ö–∞—Ç–µ—Ä–∞", "description": "–ü–µ—Ä—à–∏–π —Ä—ñ–∫ ‚Äì –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è, –¥—Ä—É–≥–∏–π ‚Äì –¥–æ—Å–≤—ñ–¥. –¢–∏ —Å—Ç–∞–≤(–ª–∞) –Ω–∞–¥—ñ–π–Ω–æ—é –æ–ø–æ—Ä–æ—é."},
            {"time": "3 —Ä–æ–∫–∏", "title": "–¢–æ—Ä–ø–µ–¥–∞ –î–æ—Å–≤—ñ–¥—É", "description": "–¢–≤–æ—è –≤–∏—Å–ª—É–≥–∞ –¥–æ–∑–≤–æ–ª—è—î –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è. –ì–æ—Ç–æ–≤–∏–π(–∞) –¥–æ –∫–æ–º–∞–Ω–¥—É–≤–∞–Ω–Ω—è!"},
            {"time": "4 —Ä–æ–∫–∏", "title": "–ú–∞–π—Å—Ç–µ—Ä –ê–∫–≤–∞—Ç–æ—Ä—ñ—ó", "description": "–¢–∏ –∑–Ω–∞—î—à –∫–∞—Ç–µ—Ä, —è–∫ —Å–≤–æ—é –∫–∏—à–µ–Ω—é, –∞ –º–æ—Ä–µ ‚Äì —è–∫ —Ä—ñ–¥–Ω–∏–π –¥—ñ–º. –ß–∞—Å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∑–Ω–∞–Ω–Ω—è."},
            {"time": "5 —Ä–æ–∫—ñ–≤", "title": "–ó–æ–ª–æ—Ç–∏–π –Ø–∫—ñ—Ä", "description": "5 —Ä–æ–∫—ñ–≤ –±–µ–∑–¥–æ–≥–∞–Ω–Ω–æ—ó —Å–ª—É–∂–±–∏. –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è —Ç–∞ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª."},
            {"time": "6 —Ä–æ–∫—ñ–≤", "title": "–í–µ—Ç–µ—Ä–∞–Ω –í–æ–¥–Ω–æ—ó –ì–ª–∞–¥—ñ (–§–∞–∑–∞ 1)", "description": "–ü—Ä–æ–π—à–æ–≤(–ª–∞) —á–µ—Ä–µ–∑ –≤–æ–≥–æ–Ω—å —Ç–∞ –≤–æ–¥—É. –¢–≤—ñ–π –¥–æ—Å–≤—ñ–¥ –±–µ–∑—Ü—ñ–Ω–Ω–∏–π –¥–ª—è —Ñ–ª–æ—Ç—É."},
            {"time": "7 —Ä–æ–∫—ñ–≤", "title": "–í–µ—Ç–µ—Ä–∞–Ω –í–æ–¥–Ω–æ—ó –ì–ª–∞–¥—ñ (–§–∞–∑–∞ 2)", "description": "–ü—Ä–æ–π—à–æ–≤(–ª–∞) —á–µ—Ä–µ–∑ –≤–æ–≥–æ–Ω—å —Ç–∞ –≤–æ–¥—É. –¢–≤—ñ–π –¥–æ—Å–≤—ñ–¥ –±–µ–∑—Ü—ñ–Ω–Ω–∏–π –¥–ª—è —Ñ–ª–æ—Ç—É."},
            {"time": "8 —Ä–æ–∫—ñ–≤", "title": "–ú–æ—Ä—Å—å–∫–∏–π –í–æ–≤–∫ (–ü–æ—á–∞—Ç–æ–∫)", "description": "–†–æ–∫–∏ —Å–ª—É–∂–±–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–ª–∏ —Ç–µ–±–µ –Ω–∞ —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ –º–æ—Ä—Å—å–∫–æ–≥–æ –≤–æ–≤–∫–∞. –£—Å–ø—ñ—Ö–∏ –≥–æ–≤–æ—Ä—è—Ç—å —Å–∞–º—ñ –∑–∞ —Å–µ–±–µ."},
            {"time": "9 —Ä–æ–∫—ñ–≤", "title": "–ú–æ—Ä—Å—å–∫–∏–π –í–æ–≤–∫ (–ü—Ä–æ—Ñ—ñ)", "description": "–†–æ–∫–∏ —Å–ª—É–∂–±–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–ª–∏ —Ç–µ–±–µ –Ω–∞ —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ –º–æ—Ä—Å—å–∫–æ–≥–æ –≤–æ–≤–∫–∞. –£—Å–ø—ñ—Ö–∏ –≥–æ–≤–æ—Ä—è—Ç—å —Å–∞–º—ñ –∑–∞ —Å–µ–±–µ."},
            {"time": "10 —Ä–æ–∫—ñ–≤", "title": "–õ—ñ–¥–µ—Ä –§–ª–æ—Ç–∏–ª—ñ—ó (–ó–æ–ª–æ—Ç–æ)", "description": "–î–µ—Å—è—Ç–∏–ª—ñ—Ç—Ç—è –≤—ñ—Ä–Ω–æ—Å—Ç—ñ –ø—Ä–∏—Å—è–∑—ñ. –¢–∏ —î —Ä—É—à—ñ–π–Ω–æ—é —Å–∏–ª–æ—é —Ç–∞ –≥–æ—Ä–¥—ñ—Å—Ç—é –í–ú–° –ó–°–£."},
            {"time": "11 —Ä–æ–∫—ñ–≤", "title": "–õ—ñ–¥–µ—Ä –§–ª–æ—Ç–∏–ª—ñ—ó (–ü–ª–∞—Ç–∏–Ω–∞)", "description": "–î–µ—Å—è—Ç–∏–ª—ñ—Ç—Ç—è –≤—ñ—Ä–Ω–æ—Å—Ç—ñ –ø—Ä–∏—Å—è–∑—ñ. –¢–∏ —î —Ä—É—à—ñ–π–Ω–æ—é —Å–∏–ª–æ—é —Ç–∞ –≥–æ—Ä–¥—ñ—Å—Ç—é –í–ú–° –ó–°–£."},
            {"time": "12 —Ä–æ–∫—ñ–≤", "title": "–õ—ñ–¥–µ—Ä –§–ª–æ—Ç–∏–ª—ñ—ó (–î—ñ–∞–º–∞–Ω—Ç)", "description": "–î–µ—Å—è—Ç–∏–ª—ñ—Ç—Ç—è –≤—ñ—Ä–Ω–æ—Å—Ç—ñ –ø—Ä–∏—Å—è–∑—ñ. –¢–∏ —î —Ä—É—à—ñ–π–Ω–æ—é —Å–∏–ª–æ—é —Ç–∞ –≥–æ—Ä–¥—ñ—Å—Ç—é –í–ú–° –ó–°–£."},
            {"time": "–í –∞—Ä–º—ñ—ó –Ω–∞—Ä–æ–¥–∏–≤—Å—è", "title": "–ê–±—Å–æ–ª—é—Ç–Ω–∏–π –ê–¥–º—ñ—Ä–∞–ª", "description": "–¢–≤–æ—è –∫–∞—Ä'—î—Ä–∞ –ø–æ—á–∞–ª–∞—Å—è –∑ –∫–æ–ª–∏—Å–∫–∏ –Ω–∞ –ø–∞–ª—É–±—ñ. –°–ø—Ä–∞–≤–∂–Ω—è –ª–µ–≥–µ–Ω–¥–∞!"}
        ],
        "skills_list": [
            {"name": "–†–∞–¥—ñ–æ–µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –±–æ—Ä–æ—Ç—å–±–∞", "kkd_boost": 16},
            {"name": "–í–æ–ª–æ–¥—ñ–Ω–Ω—è –ë–ü–õ–ê (–ø—ñ–ª–æ—Ç—É–≤–∞–Ω–Ω—è)", "kkd_boost": 16},
            {"name": "–†–µ–º–æ–Ω—Ç –¥–∏–∑–µ–ª—å–Ω–∏—Ö –¥–≤–∏–≥—É–Ω—ñ–≤", "kkd_boost": 16},
            {"name": "–ù–∞–¥–∞–Ω–Ω—è –¥–æ–º–µ–¥–∏—á–Ω–æ—ó –¥–æ–ø–æ–º–æ–≥–∏ (–±–æ–π–æ–≤–∏–π –º–µ–¥–∏–∫)", "kkd_boost": 16},
            {"name": "–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—è", "kkd_boost": 16},
            {"name": "–í–æ–¥–æ–ª–∞–∑–Ω–∞ —Å–ø—Ä–∞–≤–∞", "kkd_boost": 16}
        ],
        "education_bonus": [
            {"level": "–í–∏—â–∞", "kkd_bonus": 20, "officer_path": true},
            {"level": "–ú–æ–ª–æ–¥—à–∏–π —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç", "kkd_bonus": 10, "officer_path": false},
            {"level": "–°–µ—Ä–µ–¥–Ω—å–æ-—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∞", "kkd_bonus": 5, "officer_path": false},
            {"level": "–ó–∞–∫—ñ–Ω—á–∏–≤ 9-11 –∫–ª–∞—Å—ñ–≤", "kkd_bonus": 0, "officer_path": false}
        ]
    };

    // ----------------------------------------------------------------------
    // –§–£–ù–ö–¶–Ü–á –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á –§–û–†–ú–ò
    // ----------------------------------------------------------------------
    function populateSelects() {
        const serviceTimeSelect = document.getElementById('serviceTime');
        const rankSelect = document.getElementById('rank');
        const positionSelect = document.getElementById('position');
        const educationSelect = document.getElementById('education');
        const skillsContainer = document.getElementById('skillsContainer');

        // 1. –ß–∞—Å —Å–ª—É–∂–±–∏
        db.service_time.forEach(item => {
            serviceTimeSelect.add(new Option(item.display, item.value));
        });

        // 2. –ó–≤–∞–Ω–Ω—è
        db.ranks.forEach(rank => {
            rankSelect.add(new Option(rank.title, rank.id));
        });

        // 3. –ü–æ—Å–∞–¥–∞
        db.positions.forEach(pos => {
            positionSelect.add(new Option(pos, pos));
        });

        // 4. –ù–∞–≤–∏—á–∫–∏ (–ß–µ–∫–±–æ–∫—Å–∏)
        db.skills_list.forEach((skill) => {
            skillsContainer.innerHTML += `
                <label>
                    <input type="checkbox" name="skill" value="${skill.name}" data-kkd="${skill.kkd_boost}">
                    ${skill.name}
                </label>
            `;
        });

        // 5. –û—Å–≤—ñ—Ç–∞
        db.education_bonus.forEach(edu => {
            educationSelect.add(new Option(edu.level, edu.level));
        });
    }

    // ----------------------------------------------------------------------
    // –§–£–ù–ö–¶–Ü–Ø –†–û–ó–†–ê–•–£–ù–ö–£ –ß–ê–°–£ –î–û –î–ï–ú–û–ë–Ü–õ–Ü–ó–ê–¶–Ü–á
    // ----------------------------------------------------------------------
    function calculateContractEnd(startDateString) {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø—Ä–∏–±–ª–∏–∑–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.
        // –û—Å–∫—ñ–ª—å–∫–∏ —Ç–µ—Ä–º—ñ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –º–æ–∂–µ –±—É—Ç–∏ —Ä—ñ–∑–Ω–∏–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 3 —Ä–æ–∫–∏, 5 —Ä–æ–∫—ñ–≤, –¥–æ –∫—ñ–Ω—Ü—è –û–°), 
        // –¥–ª—è –≤—ñ–π—Å—å–∫–æ–≤–æ—Å–ª—É–∂–±–æ–≤—Ü—ñ–≤ —Ä—è–¥–æ–≤–æ–≥–æ, —Å–µ—Ä–∂–∞–Ω—Ç—Å—å–∫–æ–≥–æ —Ç–∞ —Å—Ç–∞—Ä—à–∏–Ω—Å—å–∫–æ–≥–æ —Å–∫–ª–∞–¥—É 
        // —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∑–∞–∑–≤–∏—á–∞–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—å 3 —Ä–æ–∫–∏.
        // –í —É–º–æ–≤–∞—Ö –≤–æ—î–Ω–Ω–æ–≥–æ —Å—Ç–∞–Ω—É, –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥—ñ—î –¥–æ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –¥–µ–º–æ–±—ñ–ª—ñ–∑–∞—Ü—ñ—ó –∞–±–æ –∫—ñ–Ω—Ü—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (—â–æ –Ω–∞—Å—Ç–∞–Ω–µ –ø—ñ–∑–Ω—ñ—à–µ).
        
        const now = new Date();
        const contractStartDate = new Date(startDateString);
        
        if (isNaN(contractStartDate)) {
            return {
                status: "–ù–µ–≤—ñ–¥–æ–º–∞ –¥–∞—Ç–∞", 
                countdown: "--", 
                note: "–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É –¥–∞—Ç—É."
            };
        }

        // –û–±—á–∏—Å–ª—é—î–º–æ 3-—Ä—ñ—á–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω (—è–∫ –ø—Ä–∏–∫–ª–∞–¥)
        const threeYearsLater = new Date(contractStartDate);
        threeYearsLater.setFullYear(threeYearsLater.getFullYear() + 3);
        
        let diffTime = threeYearsLater.getTime() - now.getTime();
        
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ "–î–æ –∫—ñ–Ω—Ü—è –∂–∏—Ç—Ç—è" (–≤ —É–º–æ–≤–∞—Ö –≤–æ—î–Ω–Ω–æ–≥–æ —Å—Ç–∞–Ω—É)
        let noteText = "";
        let countdownText = "";
        let contractStatusLabel = "–ó–∞–ª–∏—à–∏–ª–æ—Å—å –¥–æ –∫—ñ–Ω—Ü—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (3 —Ä–æ–∫–∏):";

        if (diffTime <= 0) {
            // –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è, –∞–ª–µ –¥—ñ—î –¥–æ –∫—ñ–Ω—Ü—è –û–°
            contractStatusLabel = "–°—Ç–∞—Ç—É—Å —É –í–æ—î–Ω–Ω–∏–π –ß–∞—Å:";
            countdownText = "–î–û –ö–Ü–ù–¶–Ø –í–û–Ñ–ù–ù–û–ì–û –°–¢–ê–ù–£";
            noteText = "–í–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç—å—Å—è –¥–æ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –¥–µ–º–æ–±—ñ–ª—ñ–∑–∞—Ü—ñ—ó.";
            document.querySelector('.stat-block.countdown').style.backgroundColor = '#A52A2A'; // –ë–æ—Ä–¥–æ–≤–∏–π
        } else {
            // –†–æ–∑–¥—ñ–ª—è—î–º–æ –∑–∞–ª–∏—à–æ–∫ —á–∞—Å—É
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            const years = Math.floor(diffDays / 365);
            const months = Math.floor((diffDays % 365) / 30);
            const days = diffDays - (years * 365) - (months * 30);

            countdownText = `${years} –†. ${months} –ú–Ü–°. ${days} –î–ù.`;
            noteText = `–¶–µ–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É 3-—Ä—ñ—á–Ω–æ–º—É —Ç–µ—Ä–º—ñ–Ω—ñ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É.`;
            document.querySelector('.stat-block.countdown').style.backgroundColor = '#008000'; // –ó–µ–ª–µ–Ω–∏–π
        }

        return {
            status: contractStatusLabel,
            countdown: countdownText,
            note: noteText
        };
    }

    // ----------------------------------------------------------------------
    // –§–£–ù–ö–¶–Ü–Ø –û–ë–†–û–ë–ö–ò –§–û–†–ú–ò –¢–ê –†–û–ó–†–ê–•–£–ù–ö–£
    // ----------------------------------------------------------------------
    function handleFormSubmit(event) {
        event.preventDefault();
        
        const serviceTime = document.getElementById('serviceTime').value;
        const currentRankId = parseInt(document.getElementById('rank').value);
        const educationLevel = document.getElementById('education').value;
        const contractDate = document.getElementById('contractDate').value;
        const selectedSkills = Array.from(document.querySelectorAll('#skillsContainer input[name="skill"]:checked'));

        const currentRank = db.ranks.find(r => r.id === currentRankId);
        const educationData = db.education_bonus.find(e => e.level === educationLevel);
        
        // 1. –†–û–ó–†–ê–•–£–ù–û–ö –ö–ö–î
        let kkd = 10; // –ë–∞–∑–æ–≤–∏–π –ö–ö–î
        if (educationData) {
            kkd += educationData.kkd_bonus;
        }
        selectedSkills.forEach(skillCheckbox => {
            kkd += parseInt(skillCheckbox.dataset.kkd);
        });
        kkd = Math.min(kkd, 90); 

        // 2. –†–û–ó–†–ê–•–£–ù–û–ö –ù–ê–°–¢–£–ü–ù–û–ì–û –ó–í–ê–ù–ù–Ø –¢–ê –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–ô
        let nextRankTitle = "–î–æ—Å—è–≥–Ω—É—Ç–æ –ú–∞–∫—Å–∏–º—É–º—É";
        let recommendationHTML = '';

        if (educationData.officer_path && currentRank.id <= 10) { 
            nextRankTitle = "–õ–µ–π—Ç–µ–Ω–∞–Ω—Ç (–û—Ñ—ñ—Ü–µ—Ä—Å—å–∫—ñ –ö—É—Ä—Å–∏)";
            recommendationHTML += `<li>–ü—Ä–æ–π—Ç–∏ <strong>–û—Ñ—ñ—Ü–µ—Ä—Å—å–∫—ñ –ö—É—Ä—Å–∏</strong> (–¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–≤–∞–Ω–Ω—è <strong>–õ–µ–π—Ç–µ–Ω–∞–Ω—Ç</strong>) –∑–∞–≤–¥—è–∫–∏ –í–∞—à—ñ–π <strong>–í–∏—â—ñ–π –æ—Å–≤—ñ—Ç—ñ</strong>.</li>`;
        } else if (currentRank && currentRank.next_rank_id) {
            const nextRank = db.ranks.find(r => r.id === currentRank.next_rank_id);
            nextRankTitle = nextRank ? nextRank.title : "–ü–æ–¥–∞–ª—å—à–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –∑–∞ –≤–∏—Å–ª—É–≥–æ—é";
            recommendationHTML += `<li>–ü—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –±–µ–∑–¥–æ–≥–∞–Ω–Ω—É —Å–ª—É–∂–±—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–≤–∞–Ω–Ω—è <strong>${nextRankTitle}</strong>.</li>`;
        } 
        
        const missingSkills = db.skills_list.filter(skill => 
            !selectedSkills.some(s => s.value === skill.name)
        );
        if (missingSkills.length > 0) {
            recommendationHTML += `<li>–û–ø–∞–Ω—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–≤–∏—á–∫–∏ –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –ö–ö–î <strong>90%</strong>.</li>`;
        }

        // 3. –ê–ß–Ü–í–ö–ê (–ü–û–î–í–ò–ì)
        const achievement = db.achievements.find(a => a.time === serviceTime);
        
        // 4. –í–Ü–î–õ–Ü–ö –î–û –î–ï–ú–û–ë–Ü–õ–Ü–ó–ê–¶–Ü–á
        const contractResult = calculateContractEnd(contractDate);

        // --- –í–Ü–î–û–ë–†–ê–ñ–ï–ù–ù–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–Ü–í ---
        
        // –ö–æ–Ω—Ç—Ä–∞–∫—Ç
        document.getElementById('contractStatusLabel').textContent = contractResult.status;
        document.getElementById('contractCountdown').textContent = contractResult.countdown;
        document.getElementById('contractNote').textContent = contractResult.note;
        
        // –ó–≤–∞–Ω–Ω—è
        document.getElementById('currentRankDisplay').textContent = currentRank.title;
        document.getElementById('nextRankDisplay').textContent = nextRankTitle;
        const currentRankImage = document.getElementById('currentRankImage');
        currentRankImage.innerHTML = `<p>${currentRank.title}</p><small>(–§–æ—Ç–æ —Ç—É—Ç)</small>`; // –ó–∞–≥–ª—É—à–∫–∞
        
        // –ê—á—ñ–≤–∫–∞
        document.getElementById('achievementTitle').textContent = achievement.title;
        document.getElementById('achievementDescription').textContent = achievement.description;
        
        // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
        document.getElementById('recommendations').querySelector('ul').innerHTML = recommendationHTML || '<li>–í–∞—à –ø—Ä–æ—Ñ—ñ–ª—å —ñ–¥–µ–∞–ª—å–Ω–∏–π!</li>';
        
        // –ö–ö–î
        document.getElementById('kkdValue').textContent = `${kkd}%`;
        const kkdBar = document.getElementById('kkdBar');
        kkdBar.style.width = `${kkd}%`;
        kkdBar.textContent = `${kkd}%`;

        // –ü–æ–∫–∞–∑–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–∞ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–∏
        document.getElementById('results').style.display = 'block';
        window.scrollTo({ top: document.getElementById('results').offsetTop, behavior: 'smooth' });
    }

    // ----------------------------------------------------------------------
    // –û–°–ù–û–í–ù–ê –õ–û–ì–Ü–ö–ê: –ó–ê–ü–£–°–ö
    // ----------------------------------------------------------------------
    document.addEventListener('DOMContentLoaded', () => {
        populateSelects();
        document.getElementById('analysisForm').addEventListener('submit', handleFormSubmit);
    });
</script>

</body>
</html>
